<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>14.02</title>

    <style>
        body {
            margin: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1e1e2f, #3a2f4f);
            font-family: 'Georgia', serif;
            color: white;
            text-align: center;
            overflow: hidden;
            transition: background 2s ease;
        }

        .start-screen {
            position: absolute;
            font-size: 22px;
            opacity: 0.8;
            cursor: pointer;
        }

        .container {
            display: none;
        }

        .text {
            font-size: 44px;
            letter-spacing: 2px;
            min-height: 60px;
            transition: opacity 1s ease;
        }

        .glow {
            color: #ffb3da;
            text-shadow:
                0 0 10px #ff6bb5,
                0 0 25px #ff1493,
                0 0 50px #ff1493;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                text-shadow: 0 0 10px #ff6bb5;
            }

            50% {
                text-shadow: 0 0 35px #ff1493;
            }

            100% {
                text-shadow: 0 0 10px #ff6bb5;
            }
        }

        .heart {
            display: block;
            font-size: 70px;
            margin-top: 30px;
            opacity: 0;
            animation: beat 1s infinite;
        }


        @keyframes beat {
            0%   { transform: scale(1); }
            15%  { transform: scale(1.35); }
            30%  { transform: scale(1); }
            45%  { transform: scale(1.25); }
            60%  { transform: scale(1); }
            100% { transform: scale(1); }
        }


        .fade-overlay {
            position: fixed;
            width: 100%;
            height: 100%;
            background: black;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s ease;
        }
    </style>
</head>

<body>

    <div class="start-screen" onclick="startExperience()">
        –Ω–∞–∂–º–∏, –µ—Å–ª–∏ –≥–æ—Ç–æ–≤ üñ§
    </div>

    <div class="fade-overlay" id="overlay"></div>

    <div class="container" id="main">
        <div id="text" class="text"></div>
        <div id="heart" class="heart">üíó</div>
    </div>

    <!-- –î–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∑–≤—É–∫–∞ –ø–µ—á–∞—Ç–∏ -->
    <audio id="typeSound1">
        <source src="https://www.soundjay.com/mechanical/sounds/typewriter-key-1.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="typeSound2">
        <source src="https://www.soundjay.com/mechanical/sounds/typewriter-key-2.mp3" type="audio/mpeg">
    </audio>
    
    <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π –∑–≤—É–∫ -->
    <audio id="finalSound">
        <source src="https://www.soundjay.com/buttons/sounds/button-16.mp3" type="audio/mpeg">
    </audio>

    <!-- —Å–∏–¥–∏—Ç –æ—Ä–µ—Ç -->
    <!-- <audio id="typeSound">
        <source src="https://www.soundjay.com/mechanical/sounds/typewriter-key-1.mp3" type="audio/mpeg">
        <source src="" type="audio/mpeg">
    </audio> -->

    <!-- —Å—Ç–æ–∏—Ç –æ—Ä–µ—Ç -->
    <!-- <audio id="finalSound">
        <source src="https://www.soundjay.com/buttons/sounds/button-16.mp3" type="audio/mpeg">
    </audio> -->

    <script>

        const textElement = document.getElementById("text");
        const heart = document.getElementById("heart");
        const overlay = document.getElementById("overlay");
        const typeSound1 = document.getElementById("typeSound1");
        const typeSound2 = document.getElementById("typeSound2");
        const finalSound = document.getElementById("finalSound");

        const messages = [
            "–°–∞–∞–∞–∞—à",
            "–∞ –∑–Ω–∞–µ—à—å —á—Ç–æ–æ–æ?",
            "—Ç—ã –º–Ω–µ –Ω—Ä–∞–≤–∏—à—å—Å—è"
        ];

        let messageIndex = 0;
        let charIndex = 0;
        let soundToggle = true;

        function startExperience() {
            document.querySelector(".start-screen").style.display = "none";
            document.getElementById("main").style.display = "block";
            typeWriter();
        }

        function typeWriter() {
            if (charIndex < messages[messageIndex].length) {
                textElement.innerHTML += messages[messageIndex].charAt(charIndex);

                // –ß–µ—Ä–µ–¥–æ–≤–∞–Ω–∏–µ –¥–≤—É—Ö –∑–≤—É–∫–æ–≤
                if (soundToggle) {
                    typeSound1.currentTime = 0;
                    typeSound1.play().catch(() => { });
                } else {
                    typeSound2.currentTime = 0;
                    typeSound2.play().catch(() => { });
                }

                soundToggle = !soundToggle;

                charIndex++;
                setTimeout(typeWriter, 100);
            } else {
                setTimeout(nextMessage, 1500);
            }
        }

        function nextMessage() {
            if (messageIndex === 1) {
                textElement.style.opacity = "0";
                setTimeout(() => {
                    textElement.innerHTML = "";
                    textElement.style.opacity = "1";
                    messageIndex++;
                    charIndex = 0;
                    typeWriter();
                }, 1200);
            } else if (messageIndex < messages.length - 1) {
                textElement.innerHTML = "";
                messageIndex++;
                charIndex = 0;
                typeWriter();
            } else {
                dramaticFinal();
            }
        }

        function dramaticFinal() {
            overlay.style.opacity = "0.6";

            setTimeout(() => {
                overlay.style.opacity = "0";
                document.body.style.background =
                    "linear-gradient(135deg, #2b1b3f, #ff4da6)";
                textElement.classList.add("glow");
                heart.style.opacity = "1";
                finalSound.play().catch(() => { });

                startHeartbeatVibration();

            }, 2000);
        }

        // üíó –í–∏–±—Ä–∞—Ü–∏—è –≤ —Ä–∏—Ç–º–µ —Å–µ—Ä–¥—Ü–∞
        function startHeartbeatVibration() {
            if ("vibrate" in navigator) {

                function beat() {
                    navigator.vibrate(120);   // –ø–µ—Ä–≤—ã–π —É–¥–∞—Ä
                    setTimeout(() => {
                        navigator.vibrate(80);  // –≤—Ç–æ—Ä–æ–π —É–¥–∞—Ä
                    }, 300);
                }

                beat(); // —Å—Ä–∞–∑—É –∑–∞–ø—É—Å–∫–∞–µ–º
                setInterval(beat, 1000); // –ø–æ–≤—Ç–æ—Ä—è–µ–º —Å—Ç—Ä–æ–≥–æ –∫–∞–∂–¥—ã–µ 1000–º—Å
            }
        }


    </script>


</body>

</html>