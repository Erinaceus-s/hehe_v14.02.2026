<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>14.02</title>

<style>

body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    font-family: 'Georgia', serif;
    background: black;
    color: white;
}

/* üåå –ó–≤—ë–∑–¥–Ω–æ–µ –Ω–µ–±–æ */
.stars {
    position: fixed;
    width: 100%;
    height: 100%;
    background: transparent url('https://www.transparenttextures.com/patterns/stardust.png') repeat;
    animation: moveStars 60s linear infinite;
    z-index: 0;
}

@keyframes moveStars {
    from { background-position: 0 0; }
    to { background-position: 1000px 1000px; }
}

.container {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: 20px;
}

.text {
    font-size: 9vw;
    min-height: 15vh;
    transition: opacity 1s ease;
    letter-spacing: 1px;
}

.glow {
    color: #ffb3da;
    text-shadow: 
        0 0 15px #ff6bb5,
        0 0 30px #ff1493,
        0 0 60px #ff1493;
    animation: pulseGlow 2s infinite;
}

@keyframes pulseGlow {
    0% { text-shadow: 0 0 15px #ff6bb5; }
    50% { text-shadow: 0 0 40px #ff1493; }
    100% { text-shadow: 0 0 15px #ff6bb5; }
}

.heart {
    display: block;
    font-size: 20vw;
    margin-top: 20px;
    opacity: 0;
    animation: beat 1s infinite;
}

@keyframes beat {
    0%   { transform: scale(1); }
    15%  { transform: scale(1.35); }
    30%  { transform: scale(1); }
    45%  { transform: scale(1.25); }
    60%  { transform: scale(1); }
    100% { transform: scale(1); }
}

.start-screen {
    position: absolute;
    font-size: 5vw;
    opacity: 0.8;
    cursor: pointer;
    z-index: 3;
}

.fade-overlay {
    position: fixed;
    width: 100%;
    height: 100%;
    background: black;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1.5s ease;
    z-index: 1;
}

</style>
</head>

<body>

<div class="stars"></div>
<div class="fade-overlay" id="overlay"></div>

<div class="start-screen" onclick="startExperience()">
    –Ω–∞–∂–º–∏, –µ—Å–ª–∏ –≥–æ—Ç–æ–≤ üí´
</div>

<div class="container" id="main" style="display:none;">
    <div id="text" class="text"></div>
    <span id="heart" class="heart">üíó</span>
</div>

<audio id="typeSound1">
    <source src="https://www.soundjay.com/mechanical/sounds/typewriter-key-1.mp3">
</audio>

<audio id="typeSound2">
    <source src="https://www.soundjay.com/mechanical/sounds/typewriter-key-2.mp3">
</audio>

<audio id="finalSound">
    <source src="https://www.soundjay.com/buttons/sounds/button-16.mp3">
</audio>

<script>

const textElement = document.getElementById("text");
const heart = document.getElementById("heart");
const overlay = document.getElementById("overlay");
const typeSound1 = document.getElementById("typeSound1");
const typeSound2 = document.getElementById("typeSound2");
const finalSound = document.getElementById("finalSound");

const messages = [
    "–°–∞–∞–∞–∞—à",
    "–∞ –∑–Ω–∞–µ—à—å —á—Ç–æ–æ–æ?",
    "—Ç—ã –º–Ω–µ –Ω—Ä–∞–≤–∏—à—å—Å—è"
];

let messageIndex = 0;
let charIndex = 0;
let soundToggle = true;

function startExperience() {
    document.querySelector(".start-screen").style.display = "none";
    document.getElementById("main").style.display = "block";
    typeWriter();
}

function typeWriter() {
    if (charIndex < messages[messageIndex].length) {

        textElement.innerHTML += messages[messageIndex].charAt(charIndex);

        if (soundToggle) {
            typeSound1.currentTime = 0;
            typeSound1.play().catch(()=>{});
        } else {
            typeSound2.currentTime = 0;
            typeSound2.play().catch(()=>{});
        }

        soundToggle = !soundToggle;

        charIndex++;
        setTimeout(typeWriter, 90);

    } else {
        setTimeout(nextMessage, 1500);
    }
}

function nextMessage() {
    if (messageIndex === 1) {
        textElement.style.opacity = "0";
        setTimeout(() => {
            textElement.innerHTML = "";
            textElement.style.opacity = "1";
            messageIndex++;
            charIndex = 0;
            typeWriter();
        }, 1200);
    } else if (messageIndex < messages.length - 1) {
        textElement.innerHTML = "";
        messageIndex++;
        charIndex = 0;
        typeWriter();
    } else {
        dramaticFinal();
    }
}

function dramaticFinal() {
    overlay.style.opacity = "0.6";

    setTimeout(() => {
        overlay.style.opacity = "0";
        textElement.classList.add("glow");
        heart.style.opacity = "1";
        finalSound.play().catch(()=>{});
        startHeartbeatVibration();
    }, 2000);
}

function startHeartbeatVibration() {
    if ("vibrate" in navigator) {

        function beat() {
            navigator.vibrate(120);
            setTimeout(() => {
                navigator.vibrate(80);
            }, 300);
        }

        beat();
        setInterval(beat, 1000);
    }
}

</script>

</body>
</html>
